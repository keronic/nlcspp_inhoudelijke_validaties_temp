<?xml version="1.0" encoding="UTF-8"?><stylesheet xmlns="http://www.w3.org/1999/XSL/Transform" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:keronic="http://example.com/my-functions" xmlns:nlcs="NLCSnetbeheer" xmlns:svrl="http://purl.oclc.org/dsdl/svrl" xmlns:xs="http://www.w3.org/2001/XMLSchema" version="3.0" expand-text="false"><variable name="Q{http://dmaus.name/ns/2023/schxslt}phase" as="Q{http://www.w3.org/2001/XMLSchema}string" select="'#ALL'"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/global_functions/config_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/helper_functions/helper_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/2d_geometry_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/3d_geometry_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/2d_geometry_interface_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/3d_geometry_interface_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/3d_2d_geometry_interface_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/geometry_interface_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/line_interface_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/line_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/depth_functions.xsl"/><xsl:include xmlns="http://purl.oclc.org/dsdl/schematron" xmlns:math="http://www.w3.org/2005/xpath-functions/math" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" href="../xsl_functions/geometry_functions/depth_interface_functions.xsl"/><mode use-accumulators=""/><mode name="group.d19e211" on-no-match="shallow-skip" streamable="false" use-accumulators=""/><template match="*" mode="group.d19e211" priority="-10"><apply-templates select="@*" mode="#current"/><apply-templates select="node()" mode="#current"/></template><template match="//nlcs:NLCSnetbeheerType" mode="group.d19e211" priority="32"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e211' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:NLCSnetbeheerType"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:NLCSnetbeheerType"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="1"/><variable name="nlcs_objects" select="*[not(self::nlcs:VersieNummer or self::nlcs:AprojectReferentie)]"/><variable name="aprojectreferenties" select="nlcs:AprojectReferentie"/><if test="not(count($aprojectreferenties) = 1)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="file-has-aprojectreferentie" severity="Fout" test="count($aprojectreferenties) = 1"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('aprojectreferentie-not-present')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(count($nlcs_objects) &gt; 0)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="file-has-nlcs-objects" severity="Fout" test="count($nlcs_objects) &gt; 0"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('no-nlcs-objects-present')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e211', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:NLCSnetbeheerType/*" mode="group.d19e211" priority="31"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e233' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:NLCSnetbeheerType/*"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:NLCSnetbeheerType/*"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="2"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="is_nlcs_object" select="$object_type ne 'AprojectReferentie' and $object_type ne 'VersieNummer'"/><variable name="tekening_type" select="string(//nlcs:AprojectReferentie/nlcs:TekeningType)"/><variable name="status" select="nlcs:Status"/><variable name="allowed_statuses" select="                 if ($tekening_type = 'BESTAANDE SITUATIE') then                     ['BESTAAND']                 else if ($tekening_type = 'DEELREVISIE') then                     ['BESTAAND', 'NIEUW', 'REVISIE', 'VERWIJDERD', 'TIJDELIJK']                 else if ($tekening_type = 'DEFINITIEF ONTWERP') then                     ['BESTAAND', 'NIEUW', 'REVISIE', 'VERWIJDERD', 'TIJDELIJK']                 else if ($tekening_type = 'EINDREVISIE') then                     ['BESTAAND', 'NIEUW', 'REVISIE', 'VERWIJDERD']                 else if ($tekening_type = 'VOORONTWERP') then                     []                 else                     []             "/><variable name="status_is_allowed" select="some $allowed_status in $allowed_statuses satisfies $allowed_status = $status"/><if test="not(not($is_nlcs_object) or $status_is_allowed)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="nlcs-object-has-allowed-status" severity="Fout" test="not($is_nlcs_object) or $status_is_allowed"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('invalid-status-for-tekening-type', [$status, $tekening_type, string-join($allowed_statuses, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e233', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSmof | //nlcs:MSoverdrachtspunt" mode="group.d19e211" priority="30"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e262' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSmof | //nlcs:MSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSmof | //nlcs:MSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="project_area_pos_list" select="tokenize(normalize-space(//nlcs:AprojectReferentie/nlcs:Geometry/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList))"/><variable name="point_pos" select="tokenize(normalize-space((nlcs:Geometry/gml:Point/gml:pos)))"/><variable name="rule_number" select="3"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="geometry_3d" select="$point_pos"/><if test="not(keronic:point-3d-interacts-with-area-2d($point_pos, $project_area_pos_list))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="assert-point-inside-project-area" severity="Fout" test="keronic:point-3d-interacts-with-area-2d($point_pos, $project_area_pos_list)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="geometry-3d"><svrl:text>
         <value-of select="$geometry_3d"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('object-outside-project-area')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e262', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSkabel | //nlcs:Amantelbuis | //nlcs:Akunstwerk | //nlcs:EAarddraad | //nlcs:Aaanlegtechniek" mode="group.d19e211" priority="29"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e262' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSkabel | //nlcs:Amantelbuis | //nlcs:Akunstwerk | //nlcs:EAarddraad | //nlcs:Aaanlegtechniek"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSkabel | //nlcs:Amantelbuis | //nlcs:Akunstwerk | //nlcs:EAarddraad | //nlcs:Aaanlegtechniek"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="project_area_pos_list" select="tokenize(normalize-space(//nlcs:AprojectReferentie/nlcs:Geometry/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList))"/><variable name="line_pos_list" select="tokenize(normalize-space((nlcs:Geometry/gml:LineString/gml:posList)))"/><variable name="rule_number" select="3"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="geometry_3d" select="$line_pos_list"/><if test="not(keronic:line-3d-interacts-with-area-2d($line_pos_list, $project_area_pos_list))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="assert-line-inside-project-area" severity="Fout" test="keronic:line-3d-interacts-with-area-2d($line_pos_list, $project_area_pos_list)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="geometry-3d"><svrl:text>
         <value-of select="$geometry_3d"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('object-outside-project-area')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e262', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSstation | //nlcs:ABeschermingsvlak" mode="group.d19e211" priority="28"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e262' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSstation | //nlcs:ABeschermingsvlak"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSstation | //nlcs:ABeschermingsvlak"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="project_area_pos_list" select="tokenize(normalize-space(//nlcs:AprojectReferentie/nlcs:Geometry/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList))"/><variable name="area_pos_list" select="tokenize(normalize-space((nlcs:Geometry/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList)))"/><variable name="rule_number" select="3"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="geometry_2d" select="$area_pos_list"/><if test="not(keronic:area-2d-interacts-with-area-2d($area_pos_list, $project_area_pos_list))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="assert-area-interacts-with-project-area" severity="Fout" test="keronic:area-2d-interacts-with-area-2d($area_pos_list, $project_area_pos_list)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="geometry-2d"><svrl:text>
         <value-of select="$geometry_2d"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('object-outside-project-area')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e262', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:ABeschermingvlak | //nlcs:MSstation | //nlcs:Akunstwerk" mode="group.d19e211" priority="27"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e333' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:ABeschermingvlak | //nlcs:MSstation | //nlcs:Akunstwerk"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:ABeschermingvlak | //nlcs:MSstation | //nlcs:Akunstwerk"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="geometry" select="tokenize(normalize-space(nlcs:Geometry/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList))"/><variable name="geometry_doubles" select="for $v in $geometry return xs:double($v)"/><variable name="coords_amount" select="count($geometry) idiv 3"/><variable name="coords" select="for $v in $geometry return xs:double($v)"/><variable name="distances" select="                     for $i in 1 to $coords_amount - 1                     return keronic:point-3d-to-point-3d-distance(                               $coords[(3 * $i) - 2], $coords[(3 * $i) - 1], $coords[(3 * $i)],                               $coords[(3 * ($i + 1)) - 2], $coords[(3 * ($i + 1)) - 1], $coords[(3 * ($i + 1))]                          )                "/><variable name="rule_number" select="4"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(not(some $d in $distances satisfies $d le 10 or $d ge 50))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="assert-area-meets-length-demand" severity="Fout" test="not(some $d in $distances satisfies $d le 10 or $d ge 50)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('line-segment-measurement-incorrect')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e333', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSkabel | //nlcs:EAarddraad | //nlcs:AaanlegTechniek" mode="group.d19e211" priority="26"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e361' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSkabel | //nlcs:EAarddraad | //nlcs:AaanlegTechniek"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSkabel | //nlcs:EAarddraad | //nlcs:AaanlegTechniek"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="geometry" select="tokenize(normalize-space(nlcs:Geometry/gml:LineString/gml:posList))"/><variable name="geometry_doubles" select="for $v in $geometry return xs:double($v)"/><variable name="coords_amount" select="count($geometry) idiv 3"/><variable name="coords" select="for $v in $geometry return xs:double($v)"/><variable name="distances" select="                     for $i in 1 to $coords_amount - 1                     return keronic:point-3d-to-point-3d-distance(                               $coords[(3 * $i) - 2], $coords[(3 * $i) - 1], $coords[(3 * $i)],                               $coords[(3 * ($i + 1)) - 2], $coords[(3 * ($i + 1)) - 1], $coords[(3 * ($i + 1))]                          )                "/><variable name="rule_number" select="4"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(not(some $d in $distances satisfies $d le 100 or $d ge 500))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="assert-line-meets-length-demand" severity="Fout" test="not(some $d in $distances satisfies $d le 100 or $d ge 500)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('line-segment-measurement-incorrect')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(not(keronic:line-3d-contains-larger-angle-than($geometry, '45')))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="assert-line-meets-angle-demand" severity="Fout" test="not(keronic:line-3d-contains-larger-angle-than($geometry, '45'))"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('line-angle-larger-than-45')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e361', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSstation | //nlcs:MSkabel | //nlcs:MSmof | //nlcs:Amantelbuis" mode="group.d19e211" priority="25"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e394' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSstation | //nlcs:MSkabel | //nlcs:MSmof | //nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSstation | //nlcs:MSkabel | //nlcs:MSmof | //nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="statuses-requiring-ids" select="keronic:get-statuses-where-gisid-required()"/><variable name="status-requires-ids" select="some $status in ($statuses-requiring-ids) satisfies($status = nlcs:Status)"/><variable name="object-has-gis-id" select="keronic:element-exists-and-not-empty(nlcs:GisId)"/><variable name="object-has-asset-id" select="keronic:element-exists-and-not-empty(nlcs:AssetId)"/><variable name="rule_number" select="5"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(not($status-requires-ids) or ($object-has-gis-id and $object-has-asset-id))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="gisid-assetid-not-unset-if-revision-existing" severity="Fout" test="not($status-requires-ids) or ($object-has-gis-id and $object-has-asset-id)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('gisid-assetid-not-unset-if-new-revision-existing', [string-join($statuses-requiring-ids, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not($status-requires-ids or not($object-has-gis-id or $object-has-asset-id))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="gisid-assetid-are-unset-if-new" severity="Fout" test="$status-requires-ids or not($object-has-gis-id or $object-has-asset-id)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('gisid-assetid-are-unset-if-new', [string-join($statuses-requiring-ids, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e394', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSstation | //nlcs:MSkabel | //nlcs:MSmof | //nlcs:MSoverdrachtspunt | //nlcs:Amantelbuis" mode="group.d19e211" priority="24"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e425' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSstation | //nlcs:MSkabel | //nlcs:MSmof | //nlcs:MSoverdrachtspunt | //nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSstation | //nlcs:MSkabel | //nlcs:MSmof | //nlcs:MSoverdrachtspunt | //nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="6"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Inmeetwijze))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="elec-object-has-inmeetwijze" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Inmeetwijze)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Inmeetwijze'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Nauwkeurigheid))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="elec-object-has-nauwkeurigheid" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Nauwkeurigheid)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Nauwkeurigheid'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e425', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSkabel | //nlcs:LSkabel | nlcs:LSmof" mode="group.d19e211" priority="23"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e447' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSkabel | //nlcs:LSkabel | nlcs:LSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSkabel | //nlcs:LSkabel | nlcs:LSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="7"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Subnettype))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="subnettype-present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Subnettype)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Subnettype'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e447', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSstation | //nlcs:MSkabel | //nlcs:MSmof | //nlcs:MSoverdrachtspunt" mode="group.d19e211" priority="22"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e465' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSstation | //nlcs:MSkabel | //nlcs:MSmof | //nlcs:MSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSstation | //nlcs:MSkabel | //nlcs:MSmof | //nlcs:MSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="9"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="datum-aanleg-present" select="keronic:element-exists-and-not-empty(nlcs:DatumAanleg)"/><if test="not($datum-aanleg-present)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="date-exists" severity="Fout" test="$datum-aanleg-present"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['DatumAanleg'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(not($datum-aanleg-present) or (xs:date(nlcs:DatumAanleg) le current-date()))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="date-not-in-future" severity="Fout" test="not($datum-aanleg-present) or (xs:date(nlcs:DatumAanleg) le current-date())"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('date-in-the-future')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e465', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:LSkabel | //nlcs:MSkabel | //nlcs:HSkabel" mode="group.d19e211" priority="21"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e490' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:LSkabel | //nlcs:MSkabel | //nlcs:HSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:LSkabel | //nlcs:MSkabel | //nlcs:HSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="uitvoering" select="nlcs:Uitvoering"/><variable name="rule_number" select="8"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty($uitvoering))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="kabel-has-uitvoering" severity="Fout" test="keronic:element-exists-and-not-empty($uitvoering)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Uitvoering'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(not($uitvoering = 'KEUZE ONTBREEKT IN LIJST') or keronic:element-exists-and-not-empty(nlcs:OmschrijvingUitvoering))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="kabel-uitvoering-keuze-ontbreekt-uit-lijst-has-omschrijving-uitvoering" severity="Fout" test="not($uitvoering = 'KEUZE ONTBREEKT IN LIJST') or keronic:element-exists-and-not-empty(nlcs:OmschrijvingUitvoering)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['OmschrijvingUitvoering'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Kabelopbouw))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="kabel-has-kabelopbouw" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Kabelopbouw)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Kabelopbouw'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Fabrikant))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="kabel-has-fabrikant" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Fabrikant)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Fabrikant'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Verbindingnummer))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="kabel-has-verbindingnummer" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Verbindingnummer)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Verbindingnummer'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Spanningsniveau))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="kabel-has-spanningsniveau" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Spanningsniveau)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Spanningsniveau'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Aardingsysteem))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="kabel-has-aardingsysteem" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Aardingsysteem)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Aardingsysteem'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:FaseAanduiding))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="kabel-has-fase-aanduiding" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:FaseAanduiding)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['FaseAanduiding'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e490', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:LSkabel" mode="group.d19e211" priority="20"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e546' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:LSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:LSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="8"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Bovengronds))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="lskabel-has-bovengronds" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Bovengronds)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Bovengronds'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Functie))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="lskabel-has-functie" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Functie)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Functie'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e546', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSmof | //nlcs:HSmof" mode="group.d19e211" priority="19"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e568' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSmof | //nlcs:HSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSmof | //nlcs:HSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="10"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Functie))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="functie_present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Functie)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Functie'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Verbindingnummer))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="verbindingnummer_present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Verbindingnummer)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Verbindingnummer'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e568', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:LSmof" mode="group.d19e211" priority="18"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e568' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:LSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:LSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="10"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Functie))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="functie_present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Functie)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Functie'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Verbindingnummer))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="verbindingnummer_present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Verbindingnummer)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Verbindingnummer'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Bovengronds))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="bovengronds_present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Bovengronds)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Bovengronds'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e568', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSmof | //nlcs:HSmof" mode="group.d19e211" priority="17"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e615' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSmof | //nlcs:HSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSmof | //nlcs:HSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="10"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:NaamMonteur))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="naam_monteur_present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:NaamMonteur)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['NaamMonteur'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:CrossBondingAanwezig))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="cross_bounding_present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:CrossBondingAanwezig)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['CrossBondingAanwezig'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e615', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:LSoverdrachtspunt" mode="group.d19e211" priority="16"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e637' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:LSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:LSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="11"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Functie))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="functie-present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Functie)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Functie'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:EigenRichting))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="eigen-richting-present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:EigenRichting)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['EigenRichting'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:FaseAanduiding))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="fase-aanduiding-present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:FaseAanduiding)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['FaseAanduiding'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Aardingsysteem))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="aardingsysteem-present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Aardingsysteem)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Aardingsysteem'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e637', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:OVLoverdrachtspunt" mode="group.d19e211" priority="15"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e671' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:OVLoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:OVLoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="12"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Aansluitset))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="aansluitset-present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Aansluitset)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Aansluitset'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Mastnummer))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mastnummer-present" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Mastnummer)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Mastnummer'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e671', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSoverdrachtspunt" mode="group.d19e211" priority="14"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e693' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="13"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Identificatie))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="v11-msoverdrachtspunt-has-identification" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Identificatie)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Identificatie'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e693', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:LSkast | //nlcs:MSstation | //nlcs:HSstation" mode="group.d19e211" priority="13"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e710' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:LSkast | //nlcs:MSstation | //nlcs:HSstation"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:LSkast | //nlcs:MSstation | //nlcs:HSstation"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="14"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Functie))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="object-has-functie" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Functie)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Functie'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Nummer))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="object-has-number" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Nummer)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Nummer'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e710', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:Amantelbuis" mode="group.d19e211" priority="12"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e732' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="15"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(keronic:element-exists-and-not-empty(nlcs:Thema))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mantelbuis-has-thema" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Thema)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Thema'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Materiaal))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mantelbuis-has-materiaal" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Materiaal)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Materiaal'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(keronic:element-exists-and-not-empty(nlcs:Diameter))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mantelbuis-has-diameter" severity="Fout" test="keronic:element-exists-and-not-empty(nlcs:Diameter)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('attribute-not-present', ['Diameter'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e732', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSmof | //nlcs:MSoverdrachtspunt" mode="group.d19e211" priority="11"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e760' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSmof | //nlcs:MSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSmof | //nlcs:MSoverdrachtspunt"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="mskabel_pos_lists" select="//nlcs:MSkabel/nlcs:Geometry/gml:LineString/gml:posList"/><variable name="point" select="tokenize(normalize-space(nlcs:Geometry/gml:Point/gml:pos))"/><variable name="point_connected" select="some $pos_list in $mskabel_pos_lists satisfies keronic:point-3d-touches-line-3d($point, tokenize(normalize-space($pos_list)), 0)"/><variable name="rule_number" select="20"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="geometry_3d" select="$point"/><if test="not($point_connected)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="point-connected-to-kabel" severity="Fout" test="$point_connected"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="geometry-3d"><svrl:text>
         <value-of select="$geometry_3d"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('point-not-connected-to-any-line')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e760', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSkabel[nlcs:Bedrijfstoestand ne 'VERLATEN']" mode="group.d19e211" priority="10"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e786' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSkabel[nlcs:Bedrijfstoestand ne 'VERLATEN']"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSkabel[nlcs:Bedrijfstoestand ne 'VERLATEN']"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="geometry" select="tokenize(normalize-space(nlcs:Geometry/gml:LineString/gml:posList))"/><variable name="rule_number" select="21"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="geometry_3d" select="$geometry"/><variable name="moffen-geometries" select="//nlcs:MSmof/nlcs:Geometry/gml:Point/gml:pos"/><variable name="overdrachtspunt-geometries" select="//nlcs:MSoverdrachtspunt/nlcs:Geometry/gml:Point/gml:pos"/><variable name="station-geometries" select="//nlcs:MSstation/nlcs:Geometry/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList"/><variable name="first-point" as="xs:string*" select="$geometry[1], $geometry[2], $geometry[3]"/><variable name="last-point" as="xs:string*" select="$geometry[count($geometry) - 2], $geometry[count($geometry) - 1], $geometry[count($geometry)]"/><variable name="first-connected-to-moffen" select="keronic:point-3d-connected-to-one-of-several-point-3d($first-point, $moffen-geometries)"/><variable name="last-connected-to-moffen" select="keronic:point-3d-connected-to-one-of-several-point-3d($last-point, $moffen-geometries)"/><variable name="first-connected-to-overdrachtspunt" select="keronic:point-3d-connected-to-one-of-several-point-3d($first-point, $overdrachtspunt-geometries)"/><variable name="last-connected-to-overdrachtspunt" select="keronic:point-3d-connected-to-one-of-several-point-3d($last-point, $overdrachtspunt-geometries)"/><variable name="first-connected-to-station" select="keronic:point-3d-connected-to-one-of-several-area-3d($first-point, $station-geometries)"/><variable name="last-connected-to-station" select="keronic:point-3d-connected-to-one-of-several-area-3d($last-point, $station-geometries)"/><variable name="first-connected" select="$first-connected-to-moffen or $first-connected-to-overdrachtspunt or $first-connected-to-station"/><variable name="last-connected" select="$last-connected-to-moffen or $last-connected-to-overdrachtspunt or $last-connected-to-station"/><if test="not($first-connected and $last-connected)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert severity="Fout" test="$first-connected and $last-connected"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="geometry-3d"><svrl:text>
         <value-of select="$geometry_3d"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('cable-not-connected-to-valid-object', [nlcs:Handle])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e786', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSkabel" mode="group.d19e211" priority="9"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e837' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="mskabel" select="."/><variable name="connected_msmoffen" select="//nlcs:MSmof[                 keronic:point-3d-touches-line-3d(                     tokenize(normalize-space(nlcs:Geometry/gml:Point/gml:pos)),                     tokenize(normalize-space($mskabel/nlcs:Geometry/gml:LineString/gml:posList)),                     0)]"/><variable name="connected_lskabels" select="//nlcs:LSkabel[                 some $connected_mof in $connected_msmoffen satisfies                     keronic:line-3d-touches-point-3d(                         tokenize(normalize-space(nlcs:Geometry/gml:LineString/gml:posList)),                         tokenize(normalize-space($connected_mof/nlcs:Geometry/gml:Point/gml:pos)),                         0)]"/><variable name="connected_hskabels" select="//nlcs:HSkabel[                 some $connected_mof in $connected_msmoffen satisfies                     keronic:line-3d-touches-point-3d(                         tokenize(normalize-space(nlcs:Geometry/gml:LineString/gml:posList)),                         tokenize(normalize-space($connected_mof/nlcs:Geometry/gml:Point/gml:pos)),                         0)]"/><variable name="rule_number" select="22"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><if test="not(empty($connected_lskabels))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mskabel-connected-to-lskabel" severity="Fout" test="empty($connected_lskabels)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'connected-cable-does-not-match-netvlak',                 [$object_type, string(count($connected_lskabels)),'LSkabel'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(empty($connected_hskabels))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mskabel-connected-to-hskabel" severity="Fout" test="empty($connected_hskabels)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'connected-cable-does-not-match-netvlak',                 [$object_type, string(count($connected_hskabels)), 'HSkabel'])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e837', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSkabel" mode="group.d19e211" priority="8"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e868' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="mskabel" select="."/><variable name="connected_msmoffen" select="//nlcs:MSmof[                 keronic:point-3d-touches-line-3d(                     tokenize(normalize-space(nlcs:Geometry/gml:Point/gml:pos)),                     tokenize(normalize-space($mskabel/nlcs:Geometry/gml:LineString/gml:posList)),                     0)]"/><variable name="connected_mskabels" select="//nlcs:MSkabel[                 some $connected_mof in $connected_msmoffen satisfies                     . ne $mskabel and                     keronic:line-3d-touches-point-3d(                         tokenize(normalize-space(nlcs:Geometry/gml:LineString/gml:posList)),                         tokenize(normalize-space($connected_mof/nlcs:Geometry/gml:Point/gml:pos)),                         0)]"/><variable name="rule_number" select="23"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="expected_bedrijfstoestand" select="nlcs:Bedrijfstoestand"/><variable name="unexpected_bedrijfstoestanden" select="distinct-values($connected_mskabels/nlcs:Bedrijfstoestand)[. != $expected_bedrijfstoestand]"/><variable name="expected_subnettype" select="nlcs:Subnettype"/><variable name="unexpected_subnettypes" select="distinct-values($connected_mskabels/nlcs:Subnettype)[. != $expected_subnettype]"/><variable name="expected_verbindingnummer" select="nlcs:Verbindingnummer"/><variable name="unexpected_verbindingnummers" select="distinct-values($connected_mskabels/nlcs:Verbindingnummer)[. != $expected_verbindingnummer]"/><variable name="expected_spanningsniveau" select="nlcs:Spanningsniveau"/><variable name="unexpected_spanningsniveaus" select="distinct-values($connected_mskabels/nlcs:Spanningsniveau)[. != $expected_spanningsniveau]"/><if test="not(empty($unexpected_bedrijfstoestanden))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="connected-mskabel-does-not-match-bedrijfstoestand" severity="Fout" test="empty($unexpected_bedrijfstoestanden)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'connected-cable-does-not-match-property',                 ['Bedrijfstoestand', $expected_bedrijfstoestand, string-join($unexpected_bedrijfstoestanden, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(empty($unexpected_subnettypes))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="connected-mskabel-does-not-match-subnettype" severity="Fout" test="empty($unexpected_subnettypes)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'connected-cable-does-not-match-property',                 ['Subnettype', $expected_subnettype, string-join($unexpected_subnettypes, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(empty($unexpected_verbindingnummers))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="connected-mskabel-does-not-match-verbindingnummer" severity="Fout" test="empty($unexpected_verbindingnummers)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'connected-cable-does-not-match-property',                 ['Verbindingnummer', $expected_verbindingnummer, string-join($unexpected_verbindingnummers, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(empty($unexpected_spanningsniveaus))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="connected-mskabel-does-not-match-spanningsniveau" severity="Fout" test="empty($unexpected_spanningsniveaus)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'connected-cable-does-not-match-property',                 ['Spanningsniveau', $expected_spanningsniveau, string-join($unexpected_spanningsniveaus, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e868', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSkabel" mode="group.d19e211" priority="7"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e933' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="21"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="fase" select="nlcs:FaseAanduiding"/><variable name="uitvoering" select="nlcs:Uitvoering"/><variable name="expected_uitvoering_prefix" select="if ($fase = '3 Fasen') then '3x'                 else if ($fase = 'L1' or $fase = 'L2' or $fase = 'L3') then '1x'                 else ''"/><if test="not(starts-with($uitvoering, $expected_uitvoering_prefix))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="fase-and-uitvoering-same" severity="Fout" test="starts-with($uitvoering, $expected_uitvoering_prefix)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('fase-not-the-same-as-uitvoering')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e933', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSmof" mode="group.d19e211" priority="6"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e957' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSmof"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="25"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="msmof" select="."/><variable name="connected_mskabels" select="//nlcs:MSkabel[keronic:line-3d-connected-to-point-3d(                         tokenize(normalize-space(nlcs:Geometry/gml:LineString/gml:posList)),                         tokenize(normalize-space($msmof/nlcs:Geometry/gml:Point/gml:pos)),                         0)]"/><variable name="unique_connected_phases" select="distinct-values($connected_mskabels/nlcs:FaseAanduiding)"/><variable name="allowed_phases" select="('3 Fasen', 'L1', 'L2', 'L3')"/><variable name="unique_allowed_connected_phases" select="$unique_connected_phases[. = $allowed_phases]"/><variable name="unique_unallowed_connected_phases" select="$unique_connected_phases[not(. = $allowed_phases)]"/><variable name="connections" select="count($connected_mskabels)"/><variable name="all_connected_cables_match_fases" select="count($unique_allowed_connected_phases) = 1"/><variable name="all_connected_cables_have_combined_and_split_fases" select="count($unique_allowed_connected_phases) = 4"/><if test="not(if($connections = 2 or $connections = 3 or $connections = 4) then empty($unique_unallowed_connected_phases) else true())"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="msmof-2-3-4-connected-only-allowed-phases" severity="Fout" test="if($connections = 2 or $connections = 3 or $connections = 4) then empty($unique_unallowed_connected_phases) else true()"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'connected-fases-not-allowed',                 [string($connections), string-join($unique_unallowed_connected_phases, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(if($connections = 2 or $connections = 3) then $all_connected_cables_match_fases else true())"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="msmof-2-3-connected-cables-have-same-fase" severity="Fout" test="if($connections = 2 or $connections = 3) then $all_connected_cables_match_fases else true()"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'connected-fases-do-not-match',                 [string($connections), string-join($unique_allowed_connected_phases, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(if($connections = 4) then $all_connected_cables_have_combined_and_split_fases else true())"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="msmof-4-connected-cables-have-combined-and-split-fasen" severity="Fout" test="if($connections = 4) then $all_connected_cables_have_combined_and_split_fases else true()"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'connected-fases-do-not-split',                 [string-join($allowed_phases, ', '), string-join($unique_allowed_connected_phases, ', ')])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e957', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:Amantelbuis" mode="group.d19e211" priority="5"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e1004' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="27"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="assetId" select="nlcs:AssetId"/><variable name="inhoud" select="//nlcs:AmantelbuisInhoud[nlcs:MantelbuisAssetId = $assetId]"/><variable name="inhoud_diameter" select="$inhoud/nlcs:Diameter"/><if test="not(nlcs:Diameter &gt; $inhoud_diameter)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mantelbuis_inhoud_fits_in_mantelbuis" severity="Fout" test="nlcs:Diameter &gt; $inhoud_diameter"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders(                 'mantelbuis-inhoud-diameter-larger-than-own',                 [nlcs:Diameter, $inhoud_diameter])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e1004', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:Amantelbuis" mode="group.d19e211" priority="4"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e1028' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:Amantelbuis"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="28"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="bedrijfsToestand" select="nlcs:BedrijfsToestand"/><variable name="assetId" select="nlcs:AssetId"/><variable name="inhoud" select="//nlcs:AmantelbuisInhoud[nlcs:MantelbuisAssetId = $assetId]"/><if test="not(if ($bedrijfsToestand = 'IN BEDRIJF') then $inhoud else true())"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="inhoud_exists_when_in_bedrijf" severity="Fout" test="if ($bedrijfsToestand = 'IN BEDRIJF') then $inhoud else true()"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('inhoud-not-found')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(if ($bedrijfsToestand = 'RESERVE') then not($inhoud) else true())"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="inhoud_does_not_exist_when_reserve" severity="Fout" test="if ($bedrijfsToestand = 'RESERVE') then not($inhoud) else true()"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('inhoud-found')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e1028', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSkabel | //nlcs:LSkabel" mode="group.d19e211" priority="3"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e1058' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSkabel | //nlcs:LSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSkabel | //nlcs:LSkabel"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="29"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="isVerplaatsing" select="nlcs:Status = 'REVISIE' and nlcs:Bewerking = 'VERPLAATSEN'"/><variable name="hasSomeOriginal" select="some $kabel in //nlcs:MSkabel satisfies $kabel ne . and $kabel/nlcs:Status = 'BESTAAND' and $kabel/nlcs:GisId = nlcs:GisId"/><if test="not(if ($isVerplaatsing) then $hasSomeOriginal else true())"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="verplaatsen_correctly_applied" severity="Fout" test="if ($isVerplaatsing) then $hasSomeOriginal else true()"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('verplaatsen-incorrectly-applied')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e1058', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSmof[nlcs:Functie = ('EINDMOF', 'EINDDOP', 'LOODKOP', 'EIND GEAARD')]" mode="group.d19e211" priority="2"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e1080' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSmof[nlcs:Functie = ('EINDMOF', 'EINDDOP', 'LOODKOP', 'EIND GEAARD')]"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSmof[nlcs:Functie = ('EINDMOF', 'EINDDOP', 'LOODKOP', 'EIND GEAARD')]"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="26"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="msmof" select="."/><variable name="connected_mskabels" select="//nlcs:MSkabel[keronic:line-3d-connected-to-point-3d(                         tokenize(normalize-space(nlcs:Geometry/gml:LineString/gml:posList)),                         tokenize(normalize-space($msmof/nlcs:Geometry/gml:Point/gml:pos)),                         0)]"/><variable name="required_amount" select="1"/><if test="not(count($connected_mskabels) = $required_amount)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mof_connected_to_right_amount_of_cables" severity="Fout" test="count($connected_mskabels) = $required_amount"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('cable-amount-incorrect', [string($required_amount), string(count($connected_mskabels))])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e1080', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSmof[nlcs:Functie = ('VERBINDING', 'ZEGELWIJZIGING', 'MANTELREPARATIE')]" mode="group.d19e211" priority="1"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e1080' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSmof[nlcs:Functie = ('VERBINDING', 'ZEGELWIJZIGING', 'MANTELREPARATIE')]"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSmof[nlcs:Functie = ('VERBINDING', 'ZEGELWIJZIGING', 'MANTELREPARATIE')]"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="26"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="msmof" select="."/><variable name="connected_mskabels" select="//nlcs:MSkabel[keronic:line-3d-connected-to-point-3d(                         tokenize(normalize-space(nlcs:Geometry/gml:LineString/gml:posList)),                         tokenize(normalize-space($msmof/nlcs:Geometry/gml:Point/gml:pos)),                         0)]"/><variable name="unique_connected_phases" select="distinct-values($connected_mskabels/nlcs:FaseAanduiding)"/><variable name="required_amount" select="if (count($unique_connected_phases) = 1) then 2 else 4"/><if test="not(count($connected_mskabels) = $required_amount)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mof_connected_to_right_amount_of_cables" severity="Fout" test="count($connected_mskabels) = $required_amount"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('cable-amount-incorrect', [string($required_amount), string(count($connected_mskabels))])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e1080', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="//nlcs:MSmof[nlcs:Functie = ('AFTAK')]" mode="group.d19e211" priority="0"><param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="()"/><variable name="Q{http://dmaus.name/ns/2023/schxslt}rule-context" as="node()" select="."/><choose><when test="'d19e1080' = $Q{http://dmaus.name/ns/2023/schxslt}pattern"><svrl:suppresed-rule context="//nlcs:MSmof[nlcs:Functie = ('AFTAK')]"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:suppresed-rule><next-match/></when><otherwise><svrl:fired-rule context="//nlcs:MSmof[nlcs:Functie = ('AFTAK')]"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if></svrl:fired-rule><for-each select="."><variable name="rule_number" select="26"/><variable name="object_type" select="name(.)"/><variable name="object_id" select="nlcs:Handle"/><variable name="msmof" select="."/><variable name="connected_mskabels" select="//nlcs:MSkabel[keronic:line-3d-connected-to-point-3d(                         tokenize(normalize-space(nlcs:Geometry/gml:LineString/gml:posList)),                         tokenize(normalize-space($msmof/nlcs:Geometry/gml:Point/gml:pos)),                         0)]"/><variable name="cable_statuses" select="$connected_mskabels/nlcs:Status"/><variable name="required_amount" select="if (count($cable_statuses[. = 'BESTAAND']) = 0) then 3 else 2"/><if test="not(count($connected_mskabels) = $required_amount)"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="mof_connected_to_right_amount_of_cables" severity="Fout" test="count($connected_mskabels) = $required_amount"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation-and-replace-placeholders('cable-amount-incorrect', [string($required_amount), string(count($connected_mskabels))])"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if><if test="not(not($required_amount = 2) or count($cable_statuses[. = 'NIEUW'] != 0))"><variable name="failed-assert" as="element(svrl:failed-assert)"><svrl:failed-assert id="bestaande_cable_also_connected_to_one_new_cable" severity="Fout" test="not($required_amount = 2) or count($cable_statuses[. = 'NIEUW'] != 0)"><attribute name="location" select="path($Q{http://dmaus.name/ns/2023/schxslt}rule-context)"/><svrl:property-reference property="scope"><svrl:text>Nieuwe en aangepaste objecten Eindrevisie</svrl:text></svrl:property-reference><svrl:property-reference property="rule-number"><svrl:text>
         <value-of select="$rule_number"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-type"><svrl:text>
         <value-of select="$object_type"/>
      </svrl:text></svrl:property-reference><svrl:property-reference property="object-id"><svrl:text>
         <value-of select="$object_id"/>
      </svrl:text></svrl:property-reference><svrl:text>
            <value-of select="keronic:get-translation('bestaande-cable-not-connected-to-new-cable')"/>
         </svrl:text></svrl:failed-assert></variable><sequence select="$failed-assert"/></if></for-each><next-match><with-param name="Q{http://dmaus.name/ns/2023/schxslt}pattern" as="Q{http://www.w3.org/2001/XMLSchema}string*" select="('d19e1080', $Q{http://dmaus.name/ns/2023/schxslt}pattern)"/></next-match></otherwise></choose></template><template match="root()" as="element(svrl:schematron-output)"><svrl:schematron-output phase="#ALL"><svrl:ns-prefix-in-attribute-values prefix="keronic" uri="http://example.com/my-functions"/><svrl:ns-prefix-in-attribute-values prefix="gml" uri="http://www.opengis.net/gml/3.2"/><svrl:ns-prefix-in-attribute-values prefix="xs" uri="http://www.w3.org/2001/XMLSchema"/><svrl:ns-prefix-in-attribute-values prefix="nlcs" uri="NLCSnetbeheer"/><!--SchXslt2 Core 1.4.4--><try><svrl:active-pattern id="v11-aprojectreferentie-has-other-objects"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-statuses-allowed-for-tekening-type"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-all-geometries-in-project-area"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-areas-meet-demands"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-lines-meet-demands"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-gisid-assetid-check"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-elec-assets-have-measurement-details"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-cables-have-subnettype"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-objects-have-valid-date"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-kabels-have-required-values"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-lskabels-have-required-values"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-moffen-have-required-values"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-hs-msmoffen-have-required-values"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-lsoverdrachtspunt-has-required-values"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-ovloverdrachtspunt-has-required-values"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-msoverdrachtspunt-has-identification"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-stations-kasten-have-required-values"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-mantelbuis-has-required-values"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-points-connected-to-lines"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-mskabel-connected-to-correct-object"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-connected-kabels-share-netvlak"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-connected-kabels-share-properties"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-fase-and-uitvoering-same"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-connected-kabels-have-correct-phase"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-mantelbuis-inhoud-fits-in-mantelbuis"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-mantelbuis-inhoud-correct"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-verplaatsen-correctly-applied"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><svrl:active-pattern id="v11-amount-of-cables-correct-for-mof-functie"><attribute name="documents" select="document-uri(.)"/></svrl:active-pattern><apply-templates select="." mode="group.d19e211"/><catch><svrl:error code="{$Q{http://www.w3.org/2005/xqt-errors}code}"><if test="document-uri()"><attribute name="document" select="document-uri()"/></if><if test="$Q{http://www.w3.org/2005/xqt-errors}description"><value-of select="$Q{http://www.w3.org/2005/xqt-errors}description"/></if></svrl:error><variable name="message" as="Q{http://www.w3.org/2001/XMLSchema}string+" expand-text="yes">
                  Running the ISO Schematron validation failed with a dynamic error.
                  Error code: {$Q{http://www.w3.org/2005/xqt-errors}code} Reason: {$Q{http://www.w3.org/2005/xqt-errors}description}
                </variable><message terminate="yes" error-code="Q{{http://dmaus.name/ns/2023/schxslt}}ValidationError"><text/><value-of select="normalize-space(string-join($message))"/></message></catch></try></svrl:schematron-output></template></stylesheet>
